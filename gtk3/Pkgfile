# Description: A multi-platform toolkit for creating graphical user interfaces
# URL: http://www.gtk.org/
# Maintainer: Tim Biermann, tbier at posteo dot de
# Depends on: at-spi2-atk avahi cups gdk-pixbuf graphite2 libepoxy libxkbcommon pango util-linux wayland wayland-protocols xorg-libxcomposite xorg-libxcursor xorg-libxinerama

name=gtk3
version=3.24.10
release=2
source=(http://download.gnome.org/sources/gtk+/${version:0:4}/gtk+-$version.tar.xz)

build () {
  cd gtk+-$version

  mkdir builddir ; cd builddir
  meson .. --prefix=/usr \
    -Dgtk_doc=false \
    -Dman-pages=false \
    -Dbuild-tests=false \
    -Dbuild-examples=false \
    -Ddemos=false \
    -Dmedia=all
  ninja
  DESTDIR=$PKG ninja install

  rm -r $PKG/usr/share/{locale,gtk-3.0}
  rm $PKG/usr/bin/gtk-update-icon-cache
}
